# Claude Code ガイド（入口）

このリポジトリで Claude Code を使うときの入口です。
ルールの正本は `.claude/rules/` にあります（ここだけ育てる）。

## 最低限
- 余計な整形・無関係なリネームはしない
- 2回続けて詰まったら止めて状況整理（ログ要点・仮説・次の一手）

## AI アシスタントの呼び出し方

Issue や Pull Request のコメントで AI アシスタントをメンションして、タスクを依頼できます。

### `@claude`
- Claude Code（Anthropic）を呼び出します
- オプションタグで動作モードを指定:
  - `@claude` - 実装（デフォルト）
  - `@claude [plan]` - 実装プランの作成
  - `@claude [breakdown]` - タスク分解
  - `@claude [review]` - コードレビュー

### `@codex`
- Codex（OpenAI）を呼び出します
- `@claude` と同じタグ・コマンドが使えます

### 使い分け
- **`@claude`**: 推論・計画・レビューなど、思考の深さが求められるタスクに向いています
- **`@codex`**: コード生成・補完に強みがあり、実装タスクに向いています
- どちらも同じワークフローで動作するため、用途に応じて使い分けてください

## 言語: 日本語での成果物生成
- **全ての成果物は日本語で生成すること。**
- コード内のコメント、Issue、Pull Request の説明、コミットメッセージなど、Claude が生成するすべてのテキストは日本語でなければならない。
- 思考プロセス（thinking process）のログは英語でも構わないが、最終的な出力は必ず日本語にすること。

## テンプレ
- タスク: `docs/agent/TASK.md`
- PR本文: `docs/agent/PR.md`

## スキル（自動選択）
Claude が必要に応じて自動的に使用。

**タスク開始**（排他）
- `/orchestrator` - 新規タスク・機能追加の計画
- `/debug` - バグ調査・問題の原因特定

**実装**
- `/implement` - コード実装 + PR本文作成

**検証**
- `/test-generate` - テストコード生成
- `/fix_ci` - CI エラー修正

**改善**
- `/refactor` - リファクタリング

**レビュー**
- `/review` - コードレビュー（ビルトイン、セキュリティチェック含む）

## Conventional Commits

コミットメッセージは [Conventional Commits](https://www.conventionalcommits.org/) に従うことを推奨します。
これにより、コミット履歴が読みやすくなり、変更内容が理解しやすくなります。

### プレフィックスの種類

- `feat`: 新機能の追加
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの動作に影響しない変更（フォーマット、セミコロンなど）
- `refactor`: リファクタリング
- `perf`: パフォーマンス改善
- `test`: テストの追加・修正
- `build`: ビルドシステムや外部依存に関する変更
- `ci`: CI設定やスクリプトの変更
- `chore`: 上記以外の雑多な変更（.gitignoreの更新など）
- `wip`: 作業中

### レビューのスキップ

Pull Requestのタイトルが以下のプレフィックスで始まる場合、Claudeによる自動レビューはスキップされます。
これは、アプリケーションのロジックやビルドプロセスに直接的な影響を与えない、リスクの低い変更に限定されています。

**スキップ対象のプレフィックス:**

- `docs:`: ドキュメントの変更
- `style:`: コードフォーマットの修正
- `chore:`: ビルドやソースコードに影響しない雑多な変更
- `wip:`: 作業中のためレビュー対象外

`build:` や `ci:` など、一見すると軽微に見える変更も、プロジェクト全体の安定性に影響を与える可能性があるため、レビュー対象としています。
